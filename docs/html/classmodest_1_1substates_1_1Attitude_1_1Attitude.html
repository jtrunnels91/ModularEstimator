<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Modular Estimator: modest.substates.Attitude.Attitude Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Modular Estimator
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacemodest.html">modest</a></li><li class="navelem"><a class="el" href="namespacemodest_1_1substates.html">substates</a></li><li class="navelem"><a class="el" href="namespacemodest_1_1substates_1_1Attitude.html">Attitude</a></li><li class="navelem"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html">Attitude</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classmodest_1_1substates_1_1Attitude_1_1Attitude-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">modest.substates.Attitude.Attitude Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Estimates the attitude of a vehicle in three dimensions, along with three gyro bias states.  
 <a href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for modest.substates.Attitude.Attitude:</div>
<div class="dyncontent">
<div class="center"><img src="classmodest_1_1substates_1_1Attitude_1_1Attitude__inherit__graph.png" border="0" usemap="#modest_8substates_8Attitude_8Attitude_inherit__map" alt="Inheritance graph"/></div>
<map name="modest_8substates_8Attitude_8Attitude_inherit__map" id="modest_8substates_8Attitude_8Attitude_inherit__map">
<area shape="rect" id="node2" href="classmodest_1_1substates_1_1SubState_1_1SubState.html" title="This is an abstract base class for objects used as sub&#45;states in State.ModularFilter. " alt="" coords="5,80,193,121"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for modest.substates.Attitude.Attitude:</div>
<div class="dyncontent">
<div class="center"><img src="classmodest_1_1substates_1_1Attitude_1_1Attitude__coll__graph.png" border="0" usemap="#modest_8substates_8Attitude_8Attitude_coll__map" alt="Collaboration graph"/></div>
<map name="modest_8substates_8Attitude_8Attitude_coll__map" id="modest_8substates_8Attitude_8Attitude_coll__map">
<area shape="rect" id="node2" href="classmodest_1_1substates_1_1SubState_1_1SubState.html" title="This is an abstract base class for objects used as sub&#45;states in State.ModularFilter. " alt="" coords="5,80,193,121"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9776f6e7d034db857ed04c5a8299029f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a9776f6e7d034db857ed04c5a8299029f">__init__</a> (self, attitudeQuaternion=Quaternion([1, 0, 0, 0]), attitudeErrorCovariance=np.eye(3), gyroBias=np.zeros(3), gyroBiasCovariance=np.eye(3), t=0)</td></tr>
<tr class="memdesc:a9776f6e7d034db857ed04c5a8299029f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a9776f6e7d034db857ed04c5a8299029f" title="The __init__ method initializes the 6DOF attitude estimator ">__init__</a> method initializes the 6DOF attitude estimator  <a href="#a9776f6e7d034db857ed04c5a8299029f">More...</a><br /></td></tr>
<tr class="separator:a9776f6e7d034db857ed04c5a8299029f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7348ffba26bce21a68552532b4ef50c9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a7348ffba26bce21a68552532b4ef50c9">storeStateVector</a> (self, svDict)</td></tr>
<tr class="memdesc:a7348ffba26bce21a68552532b4ef50c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">storeStateVector is responsible for taking an updated version of the state vector, and storing it in the class variables.  <a href="#a7348ffba26bce21a68552532b4ef50c9">More...</a><br /></td></tr>
<tr class="separator:a7348ffba26bce21a68552532b4ef50c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac071748e820fba59d8821f447623221e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#ac071748e820fba59d8821f447623221e">timeUpdate</a> (self, dT, dynamics=None)</td></tr>
<tr class="memdesc:ac071748e820fba59d8821f447623221e"><td class="mdescLeft">&#160;</td><td class="mdescRight">timeUpdate returns the time-update matrices, and handles the internal time update of the attitude estimate <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#abdea9adf61992e689fe851e213d63c92" title="Current estimate of attitude, stored as a Quaternion object Mathematically generally referred to as  ...">qHat</a>.  <a href="#ac071748e820fba59d8821f447623221e">More...</a><br /></td></tr>
<tr class="separator:ac071748e820fba59d8821f447623221e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2cbd838c8756cd03433bb689352996"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a2d2cbd838c8756cd03433bb689352996">getMeasurementMatrices</a> (self, measurement, source=None)</td></tr>
<tr class="memdesc:a2d2cbd838c8756cd03433bb689352996"><td class="mdescLeft">&#160;</td><td class="mdescRight">getMeasurementMatrices computes and returns measurement update matrices  <a href="#a2d2cbd838c8756cd03433bb689352996">More...</a><br /></td></tr>
<tr class="separator:a2d2cbd838c8756cd03433bb689352996"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c6fb528d3ba41b2a99075f34e06a61a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a3c6fb528d3ba41b2a99075f34e06a61a">quaternionTimeUpdateMatrix</a> (self, myOmega, deltaT)</td></tr>
<tr class="memdesc:a3c6fb528d3ba41b2a99075f34e06a61a"><td class="mdescLeft">&#160;</td><td class="mdescRight">quaternionTimeUpdateMatrix produces a time-update matrix for the attitude quaternion  <a href="#a3c6fb528d3ba41b2a99075f34e06a61a">More...</a><br /></td></tr>
<tr class="separator:a3c6fb528d3ba41b2a99075f34e06a61a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87070a8f76a3bf2d773c9f7341824060"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a87070a8f76a3bf2d773c9f7341824060">errorStateTimeUpdateMatrix</a> (self, myOmega, deltaT)</td></tr>
<tr class="memdesc:a87070a8f76a3bf2d773c9f7341824060"><td class="mdescLeft">&#160;</td><td class="mdescRight">errorStateTimeUpdateMatrix produces a time-update matrix for the attitude error state  <a href="#a87070a8f76a3bf2d773c9f7341824060">More...</a><br /></td></tr>
<tr class="separator:a87070a8f76a3bf2d773c9f7341824060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbf0348644aa50579d05001b4e86714e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#afbf0348644aa50579d05001b4e86714e">processNoiseMatrix</a> (self, deltaT, omegaVar, biasVar)</td></tr>
<tr class="memdesc:afbf0348644aa50579d05001b4e86714e"><td class="mdescLeft">&#160;</td><td class="mdescRight">processNoiseMatrix generates a the process noise matrix  <a href="#afbf0348644aa50579d05001b4e86714e">More...</a><br /></td></tr>
<tr class="separator:afbf0348644aa50579d05001b4e86714e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d3c91f0760ed505445718dcac21ea7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a63d3c91f0760ed505445718dcac21ea7">RaDecMeasMatrices</a> (self, source, measurement)</td></tr>
<tr class="memdesc:a63d3c91f0760ed505445718dcac21ea7"><td class="mdescLeft">&#160;</td><td class="mdescRight">RaDecMeasMatrices generates measurement matrices for a angle measurement of a point source.  <a href="#a63d3c91f0760ed505445718dcac21ea7">More...</a><br /></td></tr>
<tr class="separator:a63d3c91f0760ed505445718dcac21ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af6c8a76b84b0947694f0d214982a85"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a2af6c8a76b84b0947694f0d214982a85">eulerAngles</a> (self)</td></tr>
<tr class="memdesc:a2af6c8a76b84b0947694f0d214982a85"><td class="mdescLeft">&#160;</td><td class="mdescRight">eulerAngles computes the Euler angles (roll, pitch and yaw) based on the current attitude.  <a href="#a2af6c8a76b84b0947694f0d214982a85">More...</a><br /></td></tr>
<tr class="separator:a2af6c8a76b84b0947694f0d214982a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39beb322b15bcaec0f6a70ffbce6308d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a39beb322b15bcaec0f6a70ffbce6308d">RaDecRoll</a> (self)</td></tr>
<tr class="memdesc:a39beb322b15bcaec0f6a70ffbce6308d"><td class="mdescLeft">&#160;</td><td class="mdescRight">RaDecRoll returns the current attitude in terms of right ascension, declination, and roll  <a href="#a39beb322b15bcaec0f6a70ffbce6308d">More...</a><br /></td></tr>
<tr class="separator:a39beb322b15bcaec0f6a70ffbce6308d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1cb92ddb2b08fdf1f36a39678865b13"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#ae1cb92ddb2b08fdf1f36a39678865b13">sidUnitVec</a> (self, RaDec)</td></tr>
<tr class="memdesc:ae1cb92ddb2b08fdf1f36a39678865b13"><td class="mdescLeft">&#160;</td><td class="mdescRight">sidUnitVec generates a unit vector from two angles  <a href="#ae1cb92ddb2b08fdf1f36a39678865b13">More...</a><br /></td></tr>
<tr class="separator:ae1cb92ddb2b08fdf1f36a39678865b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3101bf3d381f06c791e0cfc29773b60e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a3101bf3d381f06c791e0cfc29773b60e">skewSymmetric</a> (self, vector)</td></tr>
<tr class="memdesc:a3101bf3d381f06c791e0cfc29773b60e"><td class="mdescLeft">&#160;</td><td class="mdescRight">skewSymmetric generates a skew-symmetric matrix from a 3x1 vector  <a href="#a3101bf3d381f06c791e0cfc29773b60e">More...</a><br /></td></tr>
<tr class="separator:a3101bf3d381f06c791e0cfc29773b60e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Mandatory SubState Functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>The following functions are functions which are required for the <a class="el" href="namespacemodest_1_1substates_1_1SubState.html">SubState</a> to function as a sub-state in State.ModularFilter. </p>
</div></td></tr>
<tr class="memitem:a26146efb15c1d33fee433df4725bae45"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#a26146efb15c1d33fee433df4725bae45">getStateVector</a> (self)</td></tr>
<tr class="memdesc:a26146efb15c1d33fee433df4725bae45"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#a26146efb15c1d33fee433df4725bae45" title="getStateVector returns the most recent value of the state vector ">getStateVector</a> returns the most recent value of the state vector  <a href="#a26146efb15c1d33fee433df4725bae45">More...</a><br /></td></tr>
<tr class="separator:a26146efb15c1d33fee433df4725bae45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77dd1cc9f3c6cc9e5619a2f56ca0cdd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#af77dd1cc9f3c6cc9e5619a2f56ca0cdd">covariance</a> (self)</td></tr>
<tr class="memdesc:af77dd1cc9f3c6cc9e5619a2f56ca0cdd"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#af77dd1cc9f3c6cc9e5619a2f56ca0cdd" title="covariance returns the SubState covariance matrix ">covariance</a> returns the <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html" title="This is an abstract base class for objects used as sub-states in State.ModularFilter. ">SubState</a> covariance matrix  <a href="#af77dd1cc9f3c6cc9e5619a2f56ca0cdd">More...</a><br /></td></tr>
<tr class="separator:af77dd1cc9f3c6cc9e5619a2f56ca0cdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf7473d2ebcd61adf1b7bb2262eb31d1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#aaf7473d2ebcd61adf1b7bb2262eb31d1">dimension</a> (self)</td></tr>
<tr class="memdesc:aaf7473d2ebcd61adf1b7bb2262eb31d1"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#aaf7473d2ebcd61adf1b7bb2262eb31d1" title="dimension returns the dimension of the sub-state vector ">dimension</a> returns the dimension of the sub-state vector  <a href="#aaf7473d2ebcd61adf1b7bb2262eb31d1">More...</a><br /></td></tr>
<tr class="separator:aaf7473d2ebcd61adf1b7bb2262eb31d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Plotting Functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These functions provide generalized plotting capabilities </p>
</div></td></tr>
<tr class="memitem:a89c6eb66130203ad0351e94fad3de11d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#a89c6eb66130203ad0351e94fad3de11d">initializeRealTimePlot</a> (self, plotHandle=None, axisHandle=None)</td></tr>
<tr class="separator:a89c6eb66130203ad0351e94fad3de11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1efb0a32eb2bedc017e4fe190c57976e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#a1efb0a32eb2bedc017e4fe190c57976e">realTimePlot</a> (self, normalized=True)</td></tr>
<tr class="separator:a1efb0a32eb2bedc017e4fe190c57976e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:abdea9adf61992e689fe851e213d63c92"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#abdea9adf61992e689fe851e213d63c92">qHat</a></td></tr>
<tr class="memdesc:abdea9adf61992e689fe851e213d63c92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current estimate of attitude, stored as a Quaternion object Mathematically generally referred to as <img class="formulaInl" alt="$\mathbf{\hat{q}}^{-}_{k}$" src="form_11.png"/> for the a priori value, or <img class="formulaInl" alt="$\mathbf{\hat{q}}^{+}_{k}$" src="form_12.png"/> for the a posteriori value.  <a href="#abdea9adf61992e689fe851e213d63c92">More...</a><br /></td></tr>
<tr class="separator:abdea9adf61992e689fe851e213d63c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d5607d83aae16c591f5b4f6da9cb9c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a7d5607d83aae16c591f5b4f6da9cb9c0">bHat</a></td></tr>
<tr class="memdesc:a7d5607d83aae16c591f5b4f6da9cb9c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current estimate of gyro bias.  <a href="#a7d5607d83aae16c591f5b4f6da9cb9c0">More...</a><br /></td></tr>
<tr class="separator:a7d5607d83aae16c591f5b4f6da9cb9c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a3498c5c9f162d42d8f7f0ab9c04f0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a3a3498c5c9f162d42d8f7f0ab9c04f0d">PHat</a></td></tr>
<tr class="memdesc:a3a3498c5c9f162d42d8f7f0ab9c04f0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current joint covariance matrix.  <a href="#a3a3498c5c9f162d42d8f7f0ab9c04f0d">More...</a><br /></td></tr>
<tr class="separator:a3a3498c5c9f162d42d8f7f0ab9c04f0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719482b118c5a3a126663c1dc9c8b917"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a719482b118c5a3a126663c1dc9c8b917">lastMeasID</a></td></tr>
<tr class="memdesc:a719482b118c5a3a126663c1dc9c8b917"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last measurement used to generate measurement matrices.  <a href="#a719482b118c5a3a126663c1dc9c8b917">More...</a><br /></td></tr>
<tr class="separator:a719482b118c5a3a126663c1dc9c8b917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fa274b70c9184ef95b535919694d50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a50fa274b70c9184ef95b535919694d50">lastSourceID</a></td></tr>
<tr class="memdesc:a50fa274b70c9184ef95b535919694d50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last signal used to generate measurement matrices.  <a href="#a50fa274b70c9184ef95b535919694d50">More...</a><br /></td></tr>
<tr class="separator:a50fa274b70c9184ef95b535919694d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb7f9e39f2c8e65c73462b222c84bab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a2fb7f9e39f2c8e65c73462b222c84bab">lastMeasMat</a></td></tr>
<tr class="memdesc:a2fb7f9e39f2c8e65c73462b222c84bab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last set of measurement matrices.  <a href="#a2fb7f9e39f2c8e65c73462b222c84bab">More...</a><br /></td></tr>
<tr class="separator:a2fb7f9e39f2c8e65c73462b222c84bab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb24540b23c1fb76233b6b4ff5bf47ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#acb24540b23c1fb76233b6b4ff5bf47ce">stateVectorHistory</a></td></tr>
<tr class="memdesc:acb24540b23c1fb76233b6b4ff5bf47ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the time-history of the sub-state state vector.  <a href="#acb24540b23c1fb76233b6b4ff5bf47ce">More...</a><br /></td></tr>
<tr class="separator:acb24540b23c1fb76233b6b4ff5bf47ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28d5d778050affd247711bab8b126e80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#a28d5d778050affd247711bab8b126e80">RTPlotHandle</a></td></tr>
<tr class="memdesc:a28d5d778050affd247711bab8b126e80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores handle for real-time plotting.  <a href="#a28d5d778050affd247711bab8b126e80">More...</a><br /></td></tr>
<tr class="separator:a28d5d778050affd247711bab8b126e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f639244937fbae85f58ac478b0528c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#a7f639244937fbae85f58ac478b0528c0">RTPlotData</a></td></tr>
<tr class="separator:a7f639244937fbae85f58ac478b0528c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914ef37afe2f8ab5c2ee9a6f4d898553"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#a914ef37afe2f8ab5c2ee9a6f4d898553">RTPaxisHandle</a></td></tr>
<tr class="separator:a914ef37afe2f8ab5c2ee9a6f4d898553"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Estimates the attitude of a vehicle in three dimensions, along with three gyro bias states. </p>
<p>This class contains a six-state attitude estimator: three attitude states and three gyro bias states.</p>
<p>This class can function as a stand-alone class, or it can function as a "SubState" of the State.ModularFilter class. The functions required for use as a <a class="el" href="namespacemodest_1_1substates_1_1SubState.html">SubState</a> are defined first after <b>init</b>, then functions specific to this class are defined next.</p>
<p>The state uses quaternions to store attitude, which avoids issues of gimbal lock and increases numerical stability over other approaches, such as Euler angles. The quaternion itself is not treated as a part of the state vector. Rather, the state vector includes three attitude "error states," which are updated at each measurement, then used to correct the attitude quaternion. After each correction, the error states are set back to zero.</p>
<p>The algorithms used for the state update mostly come from the book "Fundamentals of Spacecraft Attitude Determination and Control" (FSADC) by Markley and Crassidis. Chapter, section and page numbers will be referenced where appropriate. </p>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00038">38</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9776f6e7d034db857ed04c5a8299029f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.Attitude.Attitude.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>attitudeQuaternion</em> = <code>Quaternion([1,0,0,0])</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>attitudeErrorCovariance</em> = <code>np.eye(3)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gyroBias</em> = <code>np.zeros(3)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gyroBiasCovariance</em> = <code>np.eye(3)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a9776f6e7d034db857ed04c5a8299029f" title="The __init__ method initializes the 6DOF attitude estimator ">__init__</a> method initializes the 6DOF attitude estimator </p>
<p>This function is responsible for initializing an instance of the <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html" title="Estimates the attitude of a vehicle in three dimensions, along with three gyro bias states...">Attitude</a> class and storing all the variables as member variables.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer </td></tr>
    <tr><td class="paramname">attitudeQuaternion</td><td>A pyquaternion.Quaternion object containing the initial attitude estimate. This variable gets stored as <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#abdea9adf61992e689fe851e213d63c92" title="Current estimate of attitude, stored as a Quaternion object Mathematically generally referred to as  ...">qHat</a>. </td></tr>
    <tr><td class="paramname">attitudeErrorCovariance</td><td>A 3x3 numpy array containing the covariance of the current attitude estimate. This matrix is used to form the upper diagonal part of <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a3a3498c5c9f162d42d8f7f0ab9c04f0d" title="Current joint covariance matrix. ">PHat</a>. </td></tr>
    <tr><td class="paramname">gyroBias</td><td>A 3 dimensional numpy array containing the estimate of gyro bias. This array is stored as <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a7d5607d83aae16c591f5b4f6da9cb9c0" title="Current estimate of gyro bias. ">bHat</a>. </td></tr>
    <tr><td class="paramname">gyroBiasCovariance</td><td>A 3x3 numpy array containing the estimate of covariance of gyro bias. This array is used to form the lower diagonal part of <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a3a3498c5c9f162d42d8f7f0ab9c04f0d" title="Current joint covariance matrix. ">PHat</a>. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00064">64</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af77dd1cc9f3c6cc9e5619a2f56ca0cdd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.SubState.SubState.covariance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#af77dd1cc9f3c6cc9e5619a2f56ca0cdd" title="covariance returns the SubState covariance matrix ">covariance</a> returns the <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html" title="This is an abstract base class for objects used as sub-states in State.ModularFilter. ">SubState</a> covariance matrix </p>
<p>The <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#af77dd1cc9f3c6cc9e5619a2f56ca0cdd" title="covariance returns the SubState covariance matrix ">covariance</a> method returns the covariance of the estimate of the substate.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Currently, this method only returns the covariance of the most recent state estimate. Ideally, there should be an optional time parameter which would allow the user to get the covaraince matrix at a specified time (or the closest to that specified time).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the covaraince matrix </dd></dl>

<p>Definition at line <a class="el" href="SubState_8py_source.html#l00172">172</a> of file <a class="el" href="SubState_8py_source.html">SubState.py</a>.</p>

</div>
</div>
<a class="anchor" id="aaf7473d2ebcd61adf1b7bb2262eb31d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.SubState.SubState.dimension </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#aaf7473d2ebcd61adf1b7bb2262eb31d1" title="dimension returns the dimension of the sub-state vector ">dimension</a> returns the dimension of the sub-state vector </p>
<p>The <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#aaf7473d2ebcd61adf1b7bb2262eb31d1" title="dimension returns the dimension of the sub-state vector ">dimension</a> method returns the dimension of the sub-state vector estimated by the <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html" title="This is an abstract base class for objects used as sub-states in State.ModularFilter. ">SubState</a>. This is the dimension as seen by the <a class="el" href="namespacemodest_1_1ModularFilter.html">ModularFilter</a> estimator.</p>
<p>The default implementation is to return the class variable <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#af31a4993c39daa7aa34ef3312d41df34" title="Stores the length of the state vector as seen by the ModularFilter. ">__dimension__</a>, which is saved at initialization. This is designated as a "protected" variable, and should not change during the course of the <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html" title="This is an abstract base class for objects used as sub-states in State.ModularFilter. ">SubState</a>'s lifetime. If child class overwrites this implementation, care should be taken to ensure that the value returned by <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#aaf7473d2ebcd61adf1b7bb2262eb31d1" title="dimension returns the dimension of the sub-state vector ">dimension</a> does not change over <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html" title="This is an abstract base class for objects used as sub-states in State.ModularFilter. ">SubState</a> object lifetime.</p>
<p>For <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html" title="This is an abstract base class for objects used as sub-states in State.ModularFilter. ">SubState</a> objects with auxilary states, or other quantities related to the state vector but not directly estimated by the <a class="el" href="namespacemodest_1_1ModularFilter.html">ModularFilter</a>, <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#aaf7473d2ebcd61adf1b7bb2262eb31d1" title="dimension returns the dimension of the sub-state vector ">dimension</a> should not count these states as part of the total dimension.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the dimension of state vector </dd></dl>

<p>Definition at line <a class="el" href="SubState_8py_source.html#l00197">197</a> of file <a class="el" href="SubState_8py_source.html">SubState.py</a>.</p>

</div>
</div>
<a class="anchor" id="a87070a8f76a3bf2d773c9f7341824060"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.Attitude.Attitude.errorStateTimeUpdateMatrix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>myOmega</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>deltaT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>errorStateTimeUpdateMatrix produces a time-update matrix for the attitude error state </p>
<p>This function the discrete-time error-state transition matrix. This is the matrix which propagates the attitude error state covariance and gyro bias covariance forward in time based on time ellapsed and angular velocity estimate.</p>
<p>The error-state transition matrix is defined as follows:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \boldsymbol{\Phi} = \begin{bmatrix} \boldsymbol{\Phi}_{11} &amp; \boldsymbol{\Phi}_{12} \\ \boldsymbol{\Phi}_{21} &amp; \boldsymbol{\Phi}_{22} \\ \end{bmatrix} \]" src="form_21.png"/>
</p>
<p>where</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \boldsymbol{\Phi}_{11} = \eye[3] - \left[\omegaVec[est=True,aPriori=True, t=k] \times \right] \frac {\textrm{sin}(||\omegaVec[est=True,aPriori=True, t=k]|| \Delta t)} {||\omegaVec[est=True,aPriori=True, t=k]||} + \left[\omegaVec[est=True,aPriori=True, t=k] \times \right]^2 \frac {1 - \textrm{cos}(1 - ||\omegaVec[est=True,aPriori=True, t=k]|| \Delta t)} {||\omegaVec[est=True,aPriori=True, t=k]||^2} \]" src="form_23.png"/>
</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \boldsymbol{\Phi}_{12} = \left[\omegaVec[est=True,aPriori=True, t=k] \times \right] \frac {1 - \textrm{cos}(1 - ||\omegaVec[est=True,aPriori=True, t=k]|| \Delta t)} {||\omegaVec[est=True,aPriori=True, t=k]||^2} - \eye[3]\Delta t - \left[\omegaVec[est=True,aPriori=True, t=k] \times \right]^2 \frac {||\omegaVec[est=True,aPriori=True, t=k]|| \Delta t - \textrm{sin}(||\omegaVec[est=True,aPriori=True, t=k]|| \Delta t)} {||\omegaVec[est=True,aPriori=True, t=k]||^3} \]" src="form_25.png"/>
</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \boldsymbol{\Phi}_{21} = \mathbf{0}_{3 \times 3} \]" src="form_26.png"/>
</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \boldsymbol{\Phi}_{22} = \eye[3] \]" src="form_27.png"/>
</p>
<p>See Fundamentals of Spacecraft <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html" title="Estimates the attitude of a vehicle in three dimensions, along with three gyro bias states...">Attitude</a> Determination and Control, Section 6.2.4, page 258, equation 6.83 for more details and derivation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer </td></tr>
    <tr><td class="paramname">myOmega</td><td>The angular velocity estimate used to update the attitude quaternion </td></tr>
    <tr><td class="paramname">deltaT</td><td>The amount of time elapsed for the time-update, used for numerical integration of kinematics equation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the error-state time update matrix, <img class="formulaInl" alt="$\boldsymbol{\Phi}$" src="form_28.png"/> </dd></dl>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00464">464</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a2af6c8a76b84b0947694f0d214982a85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.Attitude.Attitude.eulerAngles </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>eulerAngles computes the Euler angles (roll, pitch and yaw) based on the current attitude. </p>
<p>This function computes the Euler angles (or, technically the "Tait-Bryan angles"), i.e. roll, pitch and yaw from the current attitude quaternion <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#abdea9adf61992e689fe851e213d63c92" title="Current estimate of attitude, stored as a Quaternion object Mathematically generally referred to as  ...">qHat</a>.</p>
<dl class="section note"><dt>Note</dt><dd>See Wikipedia's article on the <a href="https://en.wikipedia.org/wiki/Euler_angles">equatorial coordinate system</a> for more details.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list containing the three angles </dd></dl>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00695">695</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a2d2cbd838c8756cd03433bb689352996"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.Attitude.Attitude.getMeasurementMatrices </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>measurement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getMeasurementMatrices computes and returns measurement update matrices </p>
<p>This function receives a dictionary containing a measurement, along with an object that contains the source model of the measurement. If the source is a Signals.PointSource type signal, then it generates unit-vector attitude measurement type matrices. Otherwise, the function returns dicts populated with None.</p>
<dl class="section note"><dt>Note</dt><dd>This function is one of mandatory functions required for AttitudeS to function as a sub-state of State.ModularFilter.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer </td></tr>
    <tr><td class="paramname">measurement</td><td>A dictionary containing measurement information </td></tr>
    <tr><td class="paramname">source</td><td>The source object that produced the measurement</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A dictionary containing the measurement matrices H, R, and dY</dd></dl>
<dl class="section see"><dt>See also</dt><dd>SubStates.SubState.getMeasurementMatrices </dd></dl>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00285">285</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a26146efb15c1d33fee433df4725bae45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.SubState.SubState.getStateVector </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#a26146efb15c1d33fee433df4725bae45" title="getStateVector returns the most recent value of the state vector ">getStateVector</a> returns the most recent value of the state vector </p>
<p>The <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#a26146efb15c1d33fee433df4725bae45" title="getStateVector returns the most recent value of the state vector ">getStateVector</a> method is responsible for returning a dictionary object containing, at minimim, the following items:</p>
<ul>
<li>'stateVector': A length <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#aaf7473d2ebcd61adf1b7bb2262eb31d1" title="dimension returns the dimension of the sub-state vector ">dimension</a> array containing the most recent state vector estimate</li>
<li>'covariance': A (<a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#aaf7473d2ebcd61adf1b7bb2262eb31d1" title="dimension returns the dimension of the sub-state vector ">dimension</a> x <a class="el" href="classmodest_1_1substates_1_1SubState_1_1SubState.html#aaf7473d2ebcd61adf1b7bb2262eb31d1" title="dimension returns the dimension of the sub-state vector ">dimension</a>) array containing the most recent covariance matrix</li>
<li>'aPriori': A boolean indicating if the most recent estimate is the</li>
<li>result of a time update (aPriori=True) or a measurement update (aPriori=False)</li>
</ul>
<p>This function can be used as-is</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The dictionary containing the state vector, covariance matrix, and aPriori status </dd></dl>

<p>Definition at line <a class="el" href="SubState_8py_source.html#l00129">129</a> of file <a class="el" href="SubState_8py_source.html">SubState.py</a>.</p>

</div>
</div>
<a class="anchor" id="a89c6eb66130203ad0351e94fad3de11d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.SubState.SubState.initializeRealTimePlot </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>plotHandle</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>axisHandle</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SubState_8py_source.html#l00257">257</a> of file <a class="el" href="SubState_8py_source.html">SubState.py</a>.</p>

</div>
</div>
<a class="anchor" id="afbf0348644aa50579d05001b4e86714e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.Attitude.Attitude.processNoiseMatrix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>deltaT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>omegaVar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>biasVar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>processNoiseMatrix generates a the process noise matrix </p>
<p>This function generates the process noise matrix for time update of attitude error covariance and gyro bias covariance. The process noise matrix is a function propagation time, angular velocity noise, and gyro bias noise. It is defined as follows:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mathbf{Q} = \begin{bmatrix} \left(\sigma_v^2 \Delta t + \frac{1}{3}\sigma_u^2 \Delta t^3\right) \eye[3] &amp; -\left( \frac{1}{2} \sigma_u^2 \Delta t^2 \right) \eye[3] \\ -\left( \frac{1}{2} \sigma_u^2 \Delta t^2 \right) \eye[3] &amp; \left( \sigma_u^2 \Delta t \right) \eye[3] \end{bmatrix} \]" src="form_32.png"/>
</p>
<p>where <img class="formulaInl" alt="$\sigma_v^2$" src="form_33.png"/> is the angular velocity noise (i.e. gyro measurement noise) and <img class="formulaInl" alt="$ \sigma_u^2 $" src="form_34.png"/> is the gyro bias process noise.</p>
<p>See Fundamentals of Spacecraft <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html" title="Estimates the attitude of a vehicle in three dimensions, along with three gyro bias states...">Attitude</a> Determination and Control, Section 6.2.4, page 260, equation 6.93 for derivation and more details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer </td></tr>
    <tr><td class="paramname">deltaT</td><td>The amount of time corresponding to the time update </td></tr>
    <tr><td class="paramname">omegaVar</td><td>The variance of the angular velocity (gyro) measurement </td></tr>
    <tr><td class="paramname">biasVar</td><td>The variance of the gias bias process noise (indicates how much the gyro bias changes over time) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the comibined 6x6 process noise matrix </dd></dl>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00534">534</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a3c6fb528d3ba41b2a99075f34e06a61a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.Attitude.Attitude.quaternionTimeUpdateMatrix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>myOmega</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>deltaT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>quaternionTimeUpdateMatrix produces a time-update matrix for the attitude quaternion </p>
<p>This function produces a 4x4 matrix which, when multiplied by an attitude quaternion, rotates the quaternion by an amount corresponding to the angular velocity and time ellapsed. The attitude quaternion is updated as follows:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \attVec[est=True,aPriori=True, t=k+1] \approx \bar{\Theta}(\omegaVec[est=True,aPriori=True, t=k], \Delta T) \attVec[est=True, aPriori=False, t=k] \]" src="form_17.png"/>
</p>
<p>where</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \bar{\Theta}( \omegaVec[est=True,aPriori=True, t=k], \Delta T ) = \begin{bmatrix} \textrm{cos} \left(\frac{1}{2} ||\omegaVec[est=True,aPriori=True, t=k]|| \Delta t \right) I_3 - \left[\boldsymbol{\hat{\Psi}}_k^+ \times \right] &amp; \left[\boldsymbol{\hat{\Psi}}_k^+ \times \right] \\ - \left[\boldsymbol{\hat{\Psi}}_k^+ \times \right] &amp; \textrm{cos} \left(\frac{1}{2} ||\mathbf{\hat{\omega}}_k^+|| \Delta t \right) \end{bmatrix} \]" src="form_18.png"/>
</p>
<p>and</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \left[\boldsymbol{\hat{\Psi}}_k^+ \times \right] = \frac{ \textrm{sin}\left(\frac{1}{2} || \omegaVec[est=True,aPriori=True, t=k] || \Delta t \right) \omegaVec[est=True,aPriori=True, t=k] }{ || \omegaVec[est=True,aPriori=True, t=k] || } \]" src="form_19.png"/>
</p>
<p>The matrix returned by this function is <img class="formulaInl" alt="$\bar{\Theta}(\omegaVec[est=True,aPriori=True, t=k], \Delta T)$" src="form_20.png"/>.</p>
<p>See Fundamentals of Spacecraft <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html" title="Estimates the attitude of a vehicle in three dimensions, along with three gyro bias states...">Attitude</a> Determination and Control, Section 6.2.2, page 251, equation 6.60 for more details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer </td></tr>
    <tr><td class="paramname">myOmega</td><td>The angular velocity estimate used to update the attitude quaternion </td></tr>
    <tr><td class="paramname">deltaT</td><td>The amount of time elapsed for the time-update, used for numerical integration of kinematics equation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The quaternion time-update matrix <img class="formulaInl" alt="$\bar{\Theta}(\omegaVec[est=True,aPriori=True, t=k], \Delta T)$" src="form_20.png"/> </dd></dl>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00380">380</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a63d3c91f0760ed505445718dcac21ea7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.Attitude.Attitude.RaDecMeasMatrices </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>measurement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RaDecMeasMatrices generates measurement matrices for a angle measurement of a point source. </p>
<p>This function generates the set of measurement matrices <img class="formulaInl" alt="$ \mathbf{H} $" src="form_42.png"/>, <img class="formulaInl" alt="$ \mathbf{dY} $" src="form_40.png"/>, and <img class="formulaInl" alt="$ \mathbf{R} $" src="form_39.png"/> corresponding to an inferred unit vector measurement from a set of two angle measurments (local right ascension and declination of a point source).</p>
<p>The measurement matrices are a function of the measurement itself, the source from which the measurement originated, and the current estimate of attitude, <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#abdea9adf61992e689fe851e213d63c92" title="Current estimate of attitude, stored as a Quaternion object Mathematically generally referred to as  ...">qHat</a>. They are defined as follows:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mathbf{H}_k[\sv[aPriori=True,timeIndex=k]] = A(\attVec[est=True,aPriori=True,t=k]) \unitVec[signalSource=S, frame=nav] \times \]" src="form_44.png"/>
</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mathbf{dY} = \measurementVec[S](\RADEC) - A(\attVec[est=True,aPriori=True,t=k]) \unitVec[signalSource=S, frame=nav] \]" src="form_50.png"/>
</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \mathbf{R} = \eye[3] \sigma^2_{\RADEC} \]" src="form_54.png"/>
</p>
<p>The measured unit vector is a unit vector computed from the measured angles, using <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#ae1cb92ddb2b08fdf1f36a39678865b13" title="sidUnitVec generates a unit vector from two angles ">sidUnitVec</a>.</p>
<p>See Fundamentals of Spacecraft <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html" title="Estimates the attitude of a vehicle in three dimensions, along with three gyro bias states...">Attitude</a> Determination and Control, Section 6.2.4, page 257, Table 6.3 for more details and derivation.</p>
<dl class="section note"><dt>Note</dt><dd>Currently, the measurement noise matrix is an identity matrix mutiplied by the angle measurement error. This is my interpretation of Section 6.2.3 in FSADC. However, if we derive the measurement noise matrix using the usual EKF method, we get a different result which results in an unstable estimator. I'm not convinced I understand why this method is right, or why the EKF method is unstable, but it works, so we're using it for now.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer </td></tr>
    <tr><td class="paramname">source</td><td>A Signals.PointSource object from which the measurement was generated. </td></tr>
    <tr><td class="paramname">measurement</td><td>A dictionary containing the right ascension and declination measurements as sub-dictionaries, each with their own value and variance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A dictionary containing the measurement matrices H, R, and dY </dd></dl>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00613">613</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a39beb322b15bcaec0f6a70ffbce6308d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.Attitude.Attitude.RaDecRoll </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>RaDecRoll returns the current attitude in terms of right ascension, declination, and roll </p>
<p>This function essentially computes the euler angles (1-2-3) from the current attitude quaternion <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#abdea9adf61992e689fe851e213d63c92" title="Current estimate of attitude, stored as a Quaternion object Mathematically generally referred to as  ...">qHat</a> and returns them in reverse order (3-2-1). This is helpful because the attitude of spacecraft is commonly expressed in terms of RA-Dec-Roll, rather than roll-pitch-yaw which is more standard in other aerospace applications.</p>
<dl class="section note"><dt>Note</dt><dd>See Wikipedia's article on the <a href="https://en.wikipedia.org/wiki/Equatorial_coordinate_system">equatorial coordinate system</a> for more details.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A list containing the three angles </dd></dl>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00719">719</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a1efb0a32eb2bedc017e4fe190c57976e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.SubState.SubState.realTimePlot </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>normalized</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SubState_8py_source.html#l00283">283</a> of file <a class="el" href="SubState_8py_source.html">SubState.py</a>.</p>

</div>
</div>
<a class="anchor" id="ae1cb92ddb2b08fdf1f36a39678865b13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.Attitude.Attitude.sidUnitVec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>RaDec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>sidUnitVec generates a unit vector from two angles </p>
<p>This function computes the unit vector in siderial coordinates from a measurement of right ascension and declination. This is a "helper" function; it doesn't really need to be included in the class and could be moved to a seperate library probably.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>Object pointer </td></tr>
    <tr><td class="paramname">RaDec</td><td>A dictionary containing the two angles</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A unit vector generated from the angles given </dd></dl>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00738">738</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a3101bf3d381f06c791e0cfc29773b60e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.Attitude.Attitude.skewSymmetric </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>skewSymmetric generates a skew-symmetric matrix from a 3x1 vector </p>
<p>This function generates a skew symmetric matrix from a 3x1 vector. It is a "helper" function and doesn't actually need to be a member function. It could (should?) be moved to its own library.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>Object pointer </td></tr>
    <tr><td class="paramname">vector</td><td>The vector</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The skew symmetric matrix </dd></dl>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00760">760</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a7348ffba26bce21a68552532b4ef50c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.Attitude.Attitude.storeStateVector </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>svDict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>storeStateVector is responsible for taking an updated version of the state vector, and storing it in the class variables. </p>
<p>This function is designed to receive a time or measurement updated state vector and covariance, and store it. This function is used by State.ModularFilter to store a jointly updated state.</p>
<p>Depending on whether the state vector is the result of a time update (aPriori=True) or a measurement update (aPriori=False), the function may disregard the value of the attitude error state. This is because this class handles the time-update of <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#abdea9adf61992e689fe851e213d63c92" title="Current estimate of attitude, stored as a Quaternion object Mathematically generally referred to as  ...">qHat</a> internally, so the updated attitude error state is only relevant after a measurement update.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer </td></tr>
    <tr><td class="paramname">svDict</td><td>A dictionary containing the current state vector information. state vector is "a priori" or "a posteriori."</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>SubStates.SubState.storeStateVector </dd></dl>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00146">146</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="ac071748e820fba59d8821f447623221e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def modest.substates.Attitude.Attitude.timeUpdate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dT</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dynamics</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>timeUpdate returns the time-update matrices, and handles the internal time update of the attitude estimate <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#abdea9adf61992e689fe851e213d63c92" title="Current estimate of attitude, stored as a Quaternion object Mathematically generally referred to as  ...">qHat</a>. </p>
<p>This function generates the time-update matrices F and Q, to be used for a time update, either locally or jointly as part of a State.ModularFilter.</p>
<p>This function looks for angular velocity (omega) and bias variance in the dynamics dict, and uses these to construct the time update matrices. If these are not included in the dynamics dict, then the function assumes these values to be zero.</p>
<p>This function also updates the attitude quaternion internally. It does not update the covariance matrix however; this must be done externally.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The object pointer </td></tr>
    <tr><td class="paramname">dynamics</td><td>A dict containing information about the dynamics.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A dict containing the state transition matrix ("F") and the process noise matrix ("Q")</dd></dl>
<dl class="section see"><dt>See also</dt><dd>SubStates.SubState.timeUpdate </dd></dl>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00217">217</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a7d5607d83aae16c591f5b4f6da9cb9c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">modest.substates.Attitude.Attitude.bHat</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current estimate of gyro bias. </p>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00074">74</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a719482b118c5a3a126663c1dc9c8b917"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">modest.substates.Attitude.Attitude.lastMeasID</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last measurement used to generate measurement matrices. </p>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00086">86</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a2fb7f9e39f2c8e65c73462b222c84bab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">modest.substates.Attitude.Attitude.lastMeasMat</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last set of measurement matrices. </p>
<p>This allows class to avoid redundant computation of the same set of measurement matrices. </p>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00094">94</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a50fa274b70c9184ef95b535919694d50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">modest.substates.Attitude.Attitude.lastSourceID</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Last signal used to generate measurement matrices. </p>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00089">89</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a3a3498c5c9f162d42d8f7f0ab9c04f0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">modest.substates.Attitude.Attitude.PHat</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current joint covariance matrix. </p>
<p>Upper 3x3 diagonal contains covariance of the attitude estimate (related to <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#abdea9adf61992e689fe851e213d63c92" title="Current estimate of attitude, stored as a Quaternion object Mathematically generally referred to as  ...">qHat</a>), while lower 3x3 diagonal contains the covariance of the gyro bias <a class="el" href="classmodest_1_1substates_1_1Attitude_1_1Attitude.html#a7d5607d83aae16c591f5b4f6da9cb9c0" title="Current estimate of gyro bias. ">bHat</a>. </p>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00080">80</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="abdea9adf61992e689fe851e213d63c92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">modest.substates.Attitude.Attitude.qHat</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current estimate of attitude, stored as a Quaternion object Mathematically generally referred to as <img class="formulaInl" alt="$\mathbf{\hat{q}}^{-}_{k}$" src="form_11.png"/> for the a priori value, or <img class="formulaInl" alt="$\mathbf{\hat{q}}^{+}_{k}$" src="form_12.png"/> for the a posteriori value. </p>

<p>Definition at line <a class="el" href="Attitude_8py_source.html#l00071">71</a> of file <a class="el" href="Attitude_8py_source.html">Attitude.py</a>.</p>

</div>
</div>
<a class="anchor" id="a914ef37afe2f8ab5c2ee9a6f4d898553"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">modest.substates.SubState.SubState.RTPaxisHandle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SubState_8py_source.html#l00265">265</a> of file <a class="el" href="SubState_8py_source.html">SubState.py</a>.</p>

</div>
</div>
<a class="anchor" id="a7f639244937fbae85f58ac478b0528c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">modest.substates.SubState.SubState.RTPlotData</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SubState_8py_source.html#l00100">100</a> of file <a class="el" href="SubState_8py_source.html">SubState.py</a>.</p>

</div>
</div>
<a class="anchor" id="a28d5d778050affd247711bab8b126e80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">modest.substates.SubState.SubState.RTPlotHandle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores handle for real-time plotting. </p>

<p>Definition at line <a class="el" href="SubState_8py_source.html#l00098">98</a> of file <a class="el" href="SubState_8py_source.html">SubState.py</a>.</p>

</div>
</div>
<a class="anchor" id="acb24540b23c1fb76233b6b4ff5bf47ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">modest.substates.SubState.SubState.stateVectorHistory</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the time-history of the sub-state state vector. </p>

<p>Definition at line <a class="el" href="SubState_8py_source.html#l00095">95</a> of file <a class="el" href="SubState_8py_source.html">SubState.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>modest/substates/<a class="el" href="Attitude_8py_source.html">Attitude.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
