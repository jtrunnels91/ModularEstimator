<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Modular Estimator: SubStates.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Modular Estimator
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SubStates.py</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespaceSubStates.html">    1</a></span>&#160;<span class="comment">## @package SubStates</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"># This package contains the SubState class.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="keyword">from</span> abc <span class="keyword">import</span> ABC, abstractmethod</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">## @class SubState</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"># @brief This is an abstract base class for objects used as sub-states in</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"># State.ModularFilter.</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"># @details SubState is an abstract base class that specifies the methods which</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"># are required for an object to function as a sub-state of State.ModularFilter.</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"># Some of these methods are implemented and most likely do not need to be</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"># reimplemented in a derived class implementation (for example the #dimension and covariance methods.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"># Other methods may have a rudimentary implementation that may be suitable for some derived classes, but not others, depending on the specific functionality of the derived class (for instance getStateVector and storeStateVector).</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"># Finally, some methods are specifically tagged as abstract methods and are not implemented at all.  These methods must be implemented in the derived class.  This is usually because there is no way to implement even a rudimentary version of what the method is supposed to do without having some knowledge of what kind of substate the derived class contains (for instance timeUpdate and getMeasurementMatrices).</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">#</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"># In any case, the documentation for each method of SubState contains a generalized description of what functionality the implementation should provide in a derived class.</span></div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="classSubStates_1_1SubState.html">   21</a></span>&#160;<span class="keyword">class </span><a class="code" href="classSubStates_1_1SubState.html">SubState</a>(ABC):</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    </div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="comment">## @fun #__init__ initializes a SubState object</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="comment"># </span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keyword">def </span><a class="code" href="classSubStates_1_1SubState.html#a5ff829fb892680db4e3643e6b1f6cc9b">__init__</a>(</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;            self,</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            stateDimension=<span class="keywordtype">None</span>,</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            stateVectorHistory=<span class="keywordtype">None</span></div><div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="classSubStates_1_1SubState.html#a5ff829fb892680db4e3643e6b1f6cc9b">   29</a></span>&#160;    ):</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        <span class="keywordflow">if</span> stateDimension <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            <span class="keywordflow">raise</span> ValueError(</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                <span class="stringliteral">&quot;Must pass a state dimension.&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;                )</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        </div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <span class="comment">## @brief Stores the length of the state vector as seen by</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="comment"># the ModularFilter.  See the #dimension function for details on</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="comment"># implementation.</span></div><div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classSubStates_1_1SubState.html#aea750997b2a75daee4a3147eac68e4f8">   38</a></span>&#160;        self.<a class="code" href="classSubStates_1_1SubState.html#aea750997b2a75daee4a3147eac68e4f8">__dimension__</a> = stateDimension</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        </div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="comment">## @brief Stores the time-history of the sub-state state vector.</span></div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classSubStates_1_1SubState.html#a24bf2de56fc3037d91cba43d28f3bf60">   42</a></span>&#160;        self.<a class="code" href="classSubStates_1_1SubState.html#a24bf2de56fc3037d91cba43d28f3bf60">stateVectorHistory</a> = stateVectorHistory</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keywordflow">return</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    </div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    @abstractmethod</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keyword">def </span>getStateVector(self):</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="keywordflow">pass</span></div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keyword">def </span>storeStateVector(self, svDict):</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        self.stateVectorHistory.append(svDict)</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">return</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    </div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">## @fun #covariance returns the SubState covariance matrix</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">#</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment"># @details</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="comment"># The #covariance method returns the covariance of the estimate of the</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="comment"># substate.</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">#</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment"># @todo Currently, this method only returns the covariance of the most</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment"># recent state estimate.  Ideally, there should be an optional time</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="comment"># parameter which would allow the user to get the covaraince matrix at a</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment"># specified time (or the closest to that specified time).</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="comment">#</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment"># @param self The object pointer</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">#</span></div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment"># @return Returns the covaraince matrix</span></div><div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="classSubStates_1_1SubState.html#a4d863939fdb98b2739e1e737ec7496ae">   67</a></span>&#160;    <span class="keyword">def </span><a class="code" href="classSubStates_1_1SubState.html#a4d863939fdb98b2739e1e737ec7496ae">covariance</a>(self):</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classSubStates_1_1SubState.html#a24bf2de56fc3037d91cba43d28f3bf60">stateVectorHistory</a>[-1][<span class="stringliteral">&#39;covariance&#39;</span>]</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">## @fun #dimension returns the dimension of the sub-state vector</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">#</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment"># @details The #dimension method returns the dimension of the sub-state</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment"># vector estimated by the SubState.  This is the dimension as seen by the</span></div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="comment"># ModularFilter estimator.</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="comment">#</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment"># The default implementation is to return the class variable</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment"># #__dimension__, which is saved at initialization.  This is designated as</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment"># a &quot;protected&quot; variable, and should not change during the course of the</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="comment"># SubState&#39;s lifetime.  If child class overwrites this implementation,</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment"># care should be taken to ensure that the value returned by #dimension</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment"># does not change over SubState object lifetime.</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">#</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="comment"># For SubState objects with auxilary states, or other quantities related</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment"># to the state vector but not directly estimated by the ModularFilter,</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment"># #dimension should not count these states as part of the total dimension.</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">#</span></div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment"># @param self The object pointer</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">#</span></div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment"># @return Returns the dimension of state vector</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keyword">def </span><a class="code" href="classSubStates_1_1SubState.html#a4aebea19a134cb871a7c0b6c2709546a">dimension</a>(</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            self</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classSubStates_1_1SubState.html#a4aebea19a134cb871a7c0b6c2709546a">   92</a></span>&#160;            ):</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        return(self.<a class="code" href="classSubStates_1_1SubState.html#aea750997b2a75daee4a3147eac68e4f8">__dimension__</a>)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    @abstractmethod</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">def </span>timeUpdate(self, dT, dynamics=None):</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">pass</span></div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    @abstractmethod</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keyword">def </span>getMeasurementMatrices(self, measurement, source=None):</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">pass</span></div><div class="ttc" id="classSubStates_1_1SubState_html_a5ff829fb892680db4e3643e6b1f6cc9b"><div class="ttname"><a href="classSubStates_1_1SubState.html#a5ff829fb892680db4e3643e6b1f6cc9b">SubStates.SubState.__init__</a></div><div class="ttdeci">def __init__(self, stateDimension=None, stateVectorHistory=None)</div><div class="ttdoc">__init__ initializes a SubState object </div><div class="ttdef"><b>Definition:</b> <a href="SubStates_8py_source.html#l00029">SubStates.py:29</a></div></div>
<div class="ttc" id="classSubStates_1_1SubState_html_a4aebea19a134cb871a7c0b6c2709546a"><div class="ttname"><a href="classSubStates_1_1SubState.html#a4aebea19a134cb871a7c0b6c2709546a">SubStates.SubState.dimension</a></div><div class="ttdeci">def dimension(self)</div><div class="ttdoc">dimension returns the dimension of the sub-state vector </div><div class="ttdef"><b>Definition:</b> <a href="SubStates_8py_source.html#l00092">SubStates.py:92</a></div></div>
<div class="ttc" id="classSubStates_1_1SubState_html"><div class="ttname"><a href="classSubStates_1_1SubState.html">SubStates.SubState</a></div><div class="ttdoc">This is an abstract base class for objects used as sub-states in State.ModularFilter. </div><div class="ttdef"><b>Definition:</b> <a href="SubStates_8py_source.html#l00021">SubStates.py:21</a></div></div>
<div class="ttc" id="classSubStates_1_1SubState_html_aea750997b2a75daee4a3147eac68e4f8"><div class="ttname"><a href="classSubStates_1_1SubState.html#aea750997b2a75daee4a3147eac68e4f8">SubStates.SubState.__dimension__</a></div><div class="ttdeci">__dimension__</div><div class="ttdoc">Stores the length of the state vector as seen by the ModularFilter. </div><div class="ttdef"><b>Definition:</b> <a href="SubStates_8py_source.html#l00038">SubStates.py:38</a></div></div>
<div class="ttc" id="classSubStates_1_1SubState_html_a24bf2de56fc3037d91cba43d28f3bf60"><div class="ttname"><a href="classSubStates_1_1SubState.html#a24bf2de56fc3037d91cba43d28f3bf60">SubStates.SubState.stateVectorHistory</a></div><div class="ttdeci">stateVectorHistory</div><div class="ttdoc">Stores the time-history of the sub-state state vector. </div><div class="ttdef"><b>Definition:</b> <a href="SubStates_8py_source.html#l00042">SubStates.py:42</a></div></div>
<div class="ttc" id="classSubStates_1_1SubState_html_a4d863939fdb98b2739e1e737ec7496ae"><div class="ttname"><a href="classSubStates_1_1SubState.html#a4d863939fdb98b2739e1e737ec7496ae">SubStates.SubState.covariance</a></div><div class="ttdeci">def covariance(self)</div><div class="ttdoc">covariance returns the SubState covariance matrix </div><div class="ttdef"><b>Definition:</b> <a href="SubStates_8py_source.html#l00067">SubStates.py:67</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
